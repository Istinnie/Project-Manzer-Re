{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Istinnie Velonkasina/OneDrive/Documents/CDA/Exercices/7 Exercice Mongo Express React Node/7REACT-MANZER-RE/Project Manzer/Project-Manzer-Re/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Istinnie Velonkasina/OneDrive/Documents/CDA/Exercices/7 Exercice Mongo Express React Node/7REACT-MANZER-RE/Project Manzer/Project-Manzer-Re/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Istinnie Velonkasina/OneDrive/Documents/CDA/Exercices/7 Exercice Mongo Express React Node/7REACT-MANZER-RE/Project Manzer/Project-Manzer-Re/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import NavBar from\"../components/NavBar\";import backImg from\"../assets/img/repas-back.png\";// import { Link } from \"react-router-dom\";\nimport axios from\"axios\";import FileBase64 from\"react-file-base64\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AjoutRepas=function AjoutRepas(){// \"\"\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),nom=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),ingredient=_useState4[0],setIngredient=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),restaurant=_useState6[0],setRestaurant=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Prevent the default submit and page reload\ne.preventDefault();// console.log({\n//   nom,\n//   ingredient,\n//   image,\n//   restaurant,\n// });\n// Handle validations\n_context.next=3;return axios.post(\"http://localhost:5000/api/repas\",{nom:nom,ingredient:ingredient,image:image,restaurant:restaurant}).then(function(response){console.log(response.status);if(response.status===200){alert(\"Repas ajouté avec succès\");// nom = \"\";\n// ingredient = \"\";\n}window.location.reload();// Handle response\n});case 3:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-back-top\",children:/*#__PURE__*/_jsx(\"img\",{src:backImg,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"preambule-content-profile\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{method:\"post\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"preambule-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Fiche Repas\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-img\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-bloc\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Logo-recipe\"}),/*#__PURE__*/_jsx(FileBase64,{type:\"file\",name:\"image\",multiple:false,onDone:function onDone(_ref2){var base64=_ref2.base64;return setImage(base64);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"name-value\",name:\"nom\",id:\"nom\",value:nom,onChange:function onChange(e){return setName(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Ingr\\xE9dients \"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"name-value\",name:\"ingredient\",id:\"ingredient\",value:ingredient,onChange:function onChange(e){return setIngredient(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Restaurant\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"name-value\",name:\"restaurant\",value:restaurant,onChange:function onChange(e){return setRestaurant(e.target.value);}})})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Enregistrer\"})})})]})]})})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"img-back-bottom\",children:/*#__PURE__*/_jsx(\"img\",{src:backImg,alt:\"\"})})]})]});};export default AjoutRepas;","map":{"version":3,"names":["React","useEffect","useState","useParams","NavBar","backImg","axios","FileBase64","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AjoutRepas","_useState","_useState2","_slicedToArray","nom","setName","_useState3","_useState4","ingredient","setIngredient","_useState5","_useState6","restaurant","setRestaurant","_useState7","_useState8","image","setImage","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","post","then","response","console","log","status","alert","window","location","reload","stop","_x","apply","arguments","children","className","src","alt","method","onSubmit","type","name","multiple","onDone","_ref2","base64","id","value","onChange","target"],"sources":["C:/Users/Istinnie Velonkasina/OneDrive/Documents/CDA/Exercices/7 Exercice Mongo Express React Node/7REACT-MANZER-RE/Project Manzer/Project-Manzer-Re/client/src/pages/AjoutRepas.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport backImg from \"../assets/img/repas-back.png\";\r\n// import { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport FileBase64 from \"react-file-base64\";\r\nconst AjoutRepas = () => {\r\n  // \"\"\r\n\r\n  const [nom, setName] = useState();\r\n  const [ingredient, setIngredient] = useState();\r\n  const [restaurant, setRestaurant] = useState();\r\n  const [image, setImage] = useState();\r\n  const handleSubmit = async (e) => {\r\n    // Prevent the default submit and page reload\r\n    e.preventDefault();\r\n    // console.log({\r\n    //   nom,\r\n    //   ingredient,\r\n    //   image,\r\n    //   restaurant,\r\n    // });\r\n    // Handle validations\r\n    await axios\r\n      .post(\"http://localhost:5000/api/repas\", {\r\n        nom,\r\n        ingredient,\r\n        image,\r\n        restaurant,\r\n      })\r\n      .then((response) => {\r\n        console.log(response.status);\r\n        if (response.status === 200) {\r\n          alert(\"Repas ajouté avec succès\");\r\n          // nom = \"\";\r\n          // ingredient = \"\";\r\n        }\r\n        window.location.reload();\r\n        // Handle response\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <div>\r\n        <div>\r\n          <section>\r\n            <div className=\"img-back-top\">\r\n              <img src={backImg} alt=\"\" />\r\n            </div>\r\n            <div className=\"preambule-content-profile\">\r\n              <div>\r\n                <form method=\"post\" onSubmit={handleSubmit}>\r\n                  <div className=\"recipe-table\">\r\n                    <div className=\"preambule-content\">\r\n                      <div className=\"content-title\">\r\n                        <h2>Fiche Repas</h2>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"table-img\">\r\n                      <div className=\"image-bloc\">\r\n                        <img src={image} alt=\"Logo-recipe\" />\r\n\r\n                        <FileBase64\r\n                          type=\"file\"\r\n                          name=\"image\"\r\n                          multiple={false}\r\n                          onDone={({ base64 }) => setImage(base64)}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <table>\r\n                          <tr>\r\n                            <td>Nom</td>\r\n                            <td>\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"name-value\"\r\n                                name=\"nom\"\r\n                                id=\"nom\"\r\n                                value={nom}\r\n                                onChange={(e) => setName(e.target.value)}\r\n                              />\r\n                              {/* <h3>{getRepas.nom}</h3> */}\r\n                            </td>\r\n                          </tr>\r\n                          <tr>\r\n                            <td>Ingrédients </td>\r\n                            <td>\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"name-value\"\r\n                                name=\"ingredient\"\r\n                                id=\"ingredient\"\r\n                                value={ingredient}\r\n                                onChange={(e) => setIngredient(e.target.value)}\r\n                              />\r\n                            </td>\r\n                          </tr>\r\n                          <tr>\r\n                            <td>Restaurant</td>\r\n                            <td>\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"name-value\"\r\n                                name=\"restaurant\"\r\n                                value={restaurant}\r\n                                onChange={(e) => setRestaurant(e.target.value)}\r\n                              />\r\n                            </td>\r\n                          </tr>\r\n                        </table>\r\n                      </div>\r\n                      <div>\r\n                        <div>\r\n                          <input type=\"submit\" value=\"Enregistrer\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n        <div className=\"img-back-bottom\">\r\n          <img src={backImg} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AjoutRepas;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}